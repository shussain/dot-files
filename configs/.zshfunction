function boot() {
    BOOTTIME=`who -b |cut -c34-49`
    echo Boot time: $BOOTTIME
}

function json_validate {
    python -c "import json; fd=open('$1'); answer = json.dumps(json.load(fd), indent=4); print(answer)"
}

grepc() {
    grep -rin --color=auto --exclude-dir={.bzr,.cvs,.git,.hg,.svn} --include=\*.{c,h,y,l} $1 .
}

# print available colors and their numbers
# Taken from https://github.com/nicknisi/dotfiles/blob/master/zsh/functions.zsh
function colours() {
    for i in {0..255}; do
        printf "\x1b[38;5;${i}m colour${i}"
        if (( $i % 5 == 0 )); then
            printf "\n"
        else
            printf "\t"
        fi
    done
}

# Helper method to get ranadom item from a directory (passed as $1)
function list() {
    list_dir=$1
    LENGTH=`ls -al ${list_dir}/* | wc -l`
    VALUE=`rand -M $LENGTH`
    ls -al $1 | head -n $((VALUE + 1)) | tail -n 1
}

binlist () {
    list /usr/bin/
}
manlist () {
    list /usr/share/man/man2/
}

togglehrevpn () {
    if [ -f "/var/run/openvpn/hre-infra.pid" ]; then
        ACTION='stop'
    else
        ACTION='start'
    fi

    sudo service openvpn@hre-infra $ACTION
}

togglemiredo () {
    if [ -f "/var/run/miredo.pid" ]; then
        ACTION='stop'
    else
        ACTION='start'
    fi

    sudo service miredo $ACTION
}
